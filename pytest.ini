[pytest]
# ================================
# ‚öñÔ∏è Legal Assistant Arbitrage v2.4
# Pytest configuration file
# ================================

# üìÅ –ü–∞–ø–∫–∞, –≥–¥–µ —Ö—Ä–∞–Ω—è—Ç—Å—è —Ç–µ—Å—Ç—ã
testpaths = backend/app/tests

# üß≠ –î–æ–±–∞–≤–ª—è–µ–º –∫–æ—Ä–µ–Ω—å –ø—Ä–æ–µ–∫—Ç–∞ –≤ PYTHONPATH, —á—Ç–æ–±—ã –∏–º–ø–æ—Ä—Ç—ã —Ä–∞–±–æ—Ç–∞–ª–∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
pythonpath = .

# ‚öôÔ∏è –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã (FastAPI –∏ asyncio –ø–æ–¥–¥–µ—Ä–∂–∫–∞)
asyncio_mode = auto

# üí° –ì–ª–æ–±–∞–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –≤—ã–≤–æ–¥–∞
addopts = -ra -q --disable-warnings

# üîñ –ö–∞—Å—Ç–æ–º–Ω—ã–µ –º–∞—Ä–∫–µ—Ä—ã
markers =
    integration: —Ç–µ—Å—Ç—ã, –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤—É—é—â–∏–µ —Å –≤–Ω–µ—à–Ω–∏–º–∏ —Å–µ—Ä–≤–∏—Å–∞–º–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, Telegram API)
    smoke: –±—ã—Å—Ç—Ä—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ API /health –∏ –±–∞–∑–æ–≤–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏
    slow: –¥–ª–∏—Ç–µ–ª—å–Ω—ã–µ —Ç–µ—Å—Ç—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ø–∞—Ä—Å–∏–Ω–≥ –∏–ª–∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏)

# ‚ö†Ô∏è –ü–æ–¥–∞–≤–ª—è–µ–º –Ω–µ—Å—É—â–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è –æ—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π (Python 3.12+)
filterwarnings =
    ignore:.*crypt.*:DeprecationWarning
    ignore:.*pkg_resources.*:DeprecationWarning
    ignore:.*distutils.*:DeprecationWarning
    ignore:.*datetime\\.datetime\\.utcnow.*:DeprecationWarning
    ignore:.*SQLAlchemy.*datetime\\.utcnow.*:DeprecationWarning
    ignore:.*httpx.*Unclosed.*:UserWarning
    ignore:.*asyncio.*timeout.*:RuntimeWarning
    ignore:.*loop argument is deprecated.*:DeprecationWarning

# üß© –õ–æ–∫–∞–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –æ–∫—Ä—É–∂–µ–Ω–∏—è
env =
    PYTHONUNBUFFERED = 1
    PYTHONASYNCIODEBUG = 0
