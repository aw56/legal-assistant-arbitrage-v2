# üß© –®–ø–∞—Ä–≥–∞–ª–∫–∞: –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ç—á–µ–π –≤ Legal Assistant Arbitrage v2

## ‚öôÔ∏è 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∏–º–µ–Ω–∏–º–æ—Å—Ç–∏ –ø–∞—Ç—á–∞ (–±–µ–∑ —Ä–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏—è)

–ü—Ä–æ–≤–µ—Ä—è–µ—Ç, –º–æ–∂–Ω–æ –ª–∏ –ø—Ä–∏–º–µ–Ω–∏—Ç—å –ø–∞—Ç—á –±–µ–∑ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤ ‚Äî –Ω–∏—á–µ–≥–æ –Ω–µ –º–µ–Ω—è–µ—Ç –≤ –∫–æ–¥–µ.

```bash
git apply --check patches/–∏–º—è_–ø–∞—Ç—á–∞.patch
```

‚úÖ **–ü—É—Å—Ç–æ–π –≤—ã–≤–æ–¥** ‚Äî –∑–Ω–∞—á–∏—Ç –ø–∞—Ç—á –ø—Ä–∏–º–µ–Ω–∏–º.
‚ö†Ô∏è **–û—à–∏–±–∫–∏** ‚Äî –∑–Ω–∞—á–∏—Ç, –∫–æ–Ω—Ç–µ–∫—Å—Ç –ø–∞—Ç—á–∞ –Ω–µ —Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å –∞–∫—Ç—É–∞–ª—å–Ω—ã–º –∫–æ–¥–æ–º.

---

## üìä 2. –ü—Ä–æ—Å–º–æ—Ç—Ä, –∫–∞–∫–∏–µ —Ñ–∞–π–ª—ã –∏–∑–º–µ–Ω—è–µ—Ç –ø–∞—Ç—á

–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å–≤–æ–¥–∫—É –ø–æ –∑–∞—Ç—Ä–æ–Ω—É—Ç—ã–º —Ñ–∞–π–ª–∞–º –∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤—É —Å—Ç—Ä–æ–∫.

```bash
git apply --stat patches/–∏–º—è_–ø–∞—Ç—á–∞.patch
```

üí° –ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞:

```
 backend/app/services/integrations_service.py | 25 ++++++++++++++++---------
 1 file changed, 17 insertions(+), 8 deletions(-)
```

---

## üß™ 3. –°–∏–º—É–ª—è—Ü–∏—è –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –ø–∞—Ç—á–∞ (dry-run staging)

–ü–æ–∑–≤–æ–ª—è–µ—Ç –≤—Ä–µ–º–µ–Ω–Ω–æ "–ø—Ä–∏–º–µ—Ä–∏—Ç—å" –∏–∑–º–µ–Ω–µ–Ω–∏—è, –Ω–µ –∏–∑–º–µ–Ω—è—è —Ñ–∞–π–ª—ã –≤ —Ä–∞–±–æ—á–µ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏.

```bash
git apply --index --verbose patches/–∏–º—è_–ø–∞—Ç—á–∞.patch
git diff --cached | less
```

–ü–æ—Å–ª–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ ‚Äî **–æ—Ç–∫–∞—Ç–∏—Ç—å staging –±–µ–∑ –ø–æ—Ç–µ—Ä—å**:

```bash
git reset
```

---

## üîç 4. –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ –ø–∞—Ç—á–∞ –ø–µ—Ä–µ–¥ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ–º

–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç diff –≤–Ω—É—Ç—Ä–∏ —Å–∞–º–æ–≥–æ `.patch` —Ñ–∞–π–ª–∞.

```bash
cat patches/–∏–º—è_–ø–∞—Ç—á–∞.patch | less
```

–∏–ª–∏ –≤ –±–æ–ª–µ–µ —á–∏—Ç–∞–µ–º–æ–º –≤–∏–¥–µ:

```bash
git apply --stat --summary patches/–∏–º—è_–ø–∞—Ç—á–∞.patch
```

---

## üß∞ 5. –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –ø–∞—Ç—á–∞ (–µ—Å–ª–∏ –≤—Å—ë —á–∏—Å—Ç–æ)

–ö–æ–≥–¥–∞ —É–±–µ–¥–∏–ª—Å—è, —á—Ç–æ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤ –Ω–µ—Ç ‚Äî –ø—Ä–∏–º–µ–Ω—è–µ—à—å:

```bash
git apply patches/–∏–º—è_–ø–∞—Ç—á–∞.patch
```

–ü—Ä–æ–≤–µ—Ä—è–µ—à—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç:

```bash
git diff
```

---

## üîÑ 6. –û—Ç–º–µ–Ω–∞ —É–∂–µ –ø—Ä–∏–º–µ–Ω—ë–Ω–Ω–æ–≥–æ –ø–∞—Ç—á–∞

–ï—Å–ª–∏ –Ω—É–∂–Ω–æ –≤–µ—Ä–Ω—É—Ç—å –∫–æ–¥ –≤ –∏—Å—Ö–æ–¥–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ:

```bash
git apply -R patches/–∏–º—è_–ø–∞—Ç—á–∞.patch
```

---

## üöÄ 7. –ü—Ä–∏–º–µ—Ä –ø–æ–ª–Ω–æ–≥–æ —Ü–∏–∫–ª–∞

```bash
cd ~/my_projects/legal-assistant-arbitrage-v2
git pull origin main
git apply --check patches/20251012_aggregator_redis_fix.patch
git apply --stat patches/20251012_aggregator_redis_fix.patch
git apply patches/20251012_aggregator_redis_fix.patch
pytest -q -k "laws_search"
```

---

## üìò –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

- –ü–∞–ø–∫–∞ –¥–ª—è –ø–∞—Ç—á–µ–π: `patches/`
- –í—Å–µ –ø–∞—Ç—á–∏ —Ñ–∏–∫—Å–∏—Ä—É—é—Ç—Å—è –≤ `artifacts/PROGRESS_YYYYMMDD_HHMM.md`
- –í CI –ø–∞—Ç—á–∏ –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è **–≤ —Ç–µ—Å—Ç–æ–≤–æ–º –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ**, –Ω–µ –≤ –æ—Å–Ω–æ–≤–Ω–æ–π –≤–µ—Ç–∫–µ.
- –î–ª—è –æ—Ç–∫–∞—Ç–∞ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `make rollback` –∏–ª–∏ `git reset --hard HEAD`.

---

üß© _Legal Assistant Arbitrage v2 ‚Äî DevOps Practical Tools ¬© 2025 Aleksej Walz_

```

---

–•–æ—á–µ—à—å, —è –æ—Ñ–æ—Ä–º–ª—é —ç—Ç–æ —Å—Ä–∞–∑—É –≤ –≥–æ—Ç–æ–≤—ã–π —Ñ–∞–π–ª `docs/DEVOPS_CHEATSHEET.md` —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π —Å—Å—ã–ª–∫–æ–π –∏–∑ —Ç–≤–æ–µ–≥–æ `COMMANDS.md` –∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ–º –≤ Makefile (`make cheatsheet`)?
```
