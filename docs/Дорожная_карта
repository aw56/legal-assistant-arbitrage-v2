–û—Ç–ª–∏—á–Ω–æ üëç –î–∞–≤–∞–π –∑–∞—Ñ–∏–∫—Å–∏—Ä—É–µ–º **–ø–æ–ª–Ω—É—é –¥–æ—Ä–æ–∂–Ω—É—é –∫–∞—Ä—Ç—É –ø—Ä–æ–µ–∫—Ç–∞ Legal Assistant Arbitrage v2**, —Å —É—á—ë—Ç–æ–º —Ç–æ–≥–æ, —á—Ç–æ –º—ã —É–∂–µ —Å–¥–µ–ª–∞–ª–∏ –∏ —á—Ç–æ –ø—Ä–µ–¥—Å—Ç–æ–∏—Ç.

---

# üõ£Ô∏è –î–æ—Ä–æ–∂–Ω–∞—è –∫–∞—Ä—Ç–∞ ‚Äî Legal Assistant Arbitrage v2

## ‚úÖ –£–∂–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ

1. **–ë–∞–∑–æ–≤–∞—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞**

   * –ü–æ–¥–Ω—è—Ç–∞ –±–∞–∑–∞ **PostgreSQL** –≤ Docker.
   * –ù–∞—Å—Ç—Ä–æ–µ–Ω backend (FastAPI + Uvicorn).
   * –ù–∞—Å—Ç—Ä–æ–µ–Ω Makefile –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –æ–∫—Ä—É–∂–µ–Ω–∏–µ–º (up, down, migrate, reset-db, health).
   * –û—Ç–∫—Ä—ã—Ç –ø–æ—Ä—Ç **8080** —É –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ (—Ñ–∏–∫—Å –≤–Ω–µ—à–Ω–µ–π –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏).

2. **–ú–∏–≥—Ä–∞—Ü–∏–∏ –∏ –º–æ–¥–µ–ª–∏**

   * Alembic –º–∏–≥—Ä–∞—Ü–∏–∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω—ã —Å –º–æ–¥–µ–ª—è–º–∏.
   * –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –æ—à–∏–±–∫–∏ Pydantic v2 (`model_config` –≤–º–µ—Å—Ç–æ `Config`).
   * –£—Ç–æ—á–Ω–µ–Ω–æ –ø–æ–ª–µ –ø–∞—Ä–æ–ª—è (`password_hash`) –≤ –º–æ–¥–µ–ª–∏ `User`.

3. **Auth + Users**

   * –≠–Ω–¥–ø–æ–∏–Ω—Ç—ã `/api/auth/register`, `/api/auth/login`, `/api/auth/me` —Ä–∞–±–æ—Ç–∞—é—Ç.
   * JWT-—Ç–æ–∫–µ–Ω —Å–æ–∑–¥–∞—ë—Ç—Å—è —Å `sub=username`, —É—Å–ø–µ—à–Ω–æ —á–∏—Ç–∞–µ—Ç—Å—è –≤ `get_current_user`.
   * –ü—Ä–æ–≤–µ—Ä–∫–∏ —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç–∏ username/email –ø—Ä–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏.
   * –•–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–æ–ª—è —á–µ—Ä–µ–∑ bcrypt.
   * –ü–æ–¥–∫–ª—é—á—ë–Ω Postman, —Å–æ–±—Ä–∞–Ω–∞ –∫–æ–ª–ª–µ–∫—Ü–∏—è (Register ‚Üí Login ‚Üí Me).
   * smoke-—Ç–µ—Å—Ç—ã curl: ‚úÖ –ø—Ä–æ—à–ª–∏.

4. **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**

   * README.md –ø–µ—Ä–µ–ø–∏—Å–∞–Ω (—Å—Ç—Ä—É–∫—Ç—É—Ä–∞, –∑–∞–ø—É—Å–∫, –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞).
   * ARCHITECTURE.md –¥–æ–ø–æ–ª–Ω–µ–Ω —Å—Ö–µ–º–∞–º–∏ (Mermaid + sequence).
   * TROUBLESHOOTING.md ‚Äî –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω—ã –≤—Å–µ –Ω–∞–π–¥–µ–Ω–Ω—ã–µ –±–∞–≥–∏ –∏ –∏—Ö —Ä–µ—à–µ–Ω–∏—è.

---

## üîú –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏ (–±–ª–∏–∂–∞–π—à–∏–µ)

### 1. CRUD –ø–æ Laws –∏ Decisions

* –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã:

  * `POST /api/laws` ‚Üí —Å–æ–∑–¥–∞—Ç—å –∑–∞–∫–æ–Ω.
  * `POST /api/decisions` ‚Üí —Å–æ–∑–¥–∞—Ç—å —Å—É–¥–µ–±–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ.
* –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —á–µ—Ä–µ–∑ Postman (—Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º JWT).
* –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–≤—è–∑–∏: `Decision` ‚Üí `Law`, `Decision` ‚Üí `User`.
* –î–æ–±–∞–≤–∏—Ç—å smoke-—Ç–µ—Å—Ç—ã –≤ `scripts/smoke.sh`.

### 2. –†–æ–ª–∏ –∏ –¥–æ—Å—Ç—É–ø—ã

* –°–µ–π—á–∞—Å –≤—Å–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É—é—Ç—Å—è —Å `role=user`.
* –ù—É–∂–Ω–æ:

  * –¥–æ–±–∞–≤–∏—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –≤—ã–¥–∞–≤–∞—Ç—å —Ä–æ–ª—å `admin`.
  * –æ–≥—Ä–∞–Ω–∏—á–∏—Ç—å –¥–æ—Å—Ç—É–ø (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Å–æ–∑–¥–∞–≤–∞—Ç—å –∑–∞–∫–æ–Ω—ã –º–æ–∂–µ—Ç —Ç–æ–ª—å–∫–æ `admin`).
* –í–Ω–µ–¥—Ä–∏—Ç—å dependency `role_required("admin")`.

### 3. CI/CD (–∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è)

* –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ:

  * `make lint` –ø—Ä–æ—Ö–æ–¥–∏—Ç (pre-commit, black, isort).
  * `make test` –∑–∞–ø—É—Å–∫–∞–µ—Ç pytest –∏ —É—Å–ø–µ—à–Ω–æ –ø—Ä–æ—Ö–æ–¥–∏—Ç.
* –ù–∞—Å—Ç—Ä–æ–∏—Ç—å GitHub Actions:

  * **ci.yml**: –º–∏–≥—Ä–∞—Ü–∏–∏ + pytest.
  * **docs.yml**: –≥–µ–Ω–µ—Ä–∞—Ü–∏—è API Docs –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤ `docs/`.

---

## üöÄ –°—Ä–µ–¥–Ω–µ—Å—Ä–æ—á–Ω—ã–µ –∑–∞–¥–∞—á–∏

### 4. –£–ª—É—á—à–µ–Ω–∏–µ Auth

* –î–æ–±–∞–≤–∏—Ç—å **refresh-—Ç–æ–∫–µ–Ω—ã**.
* –í–≤–µ—Å—Ç–∏ **logout** (—á–µ—Ä–Ω—ã–π —Å–ø–∏—Å–æ–∫ —Ç–æ–∫–µ–Ω–æ–≤).
* –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –ø–æ –≤—Ä–µ–º–µ–Ω–∏ –∂–∏–∑–Ω–∏ access-—Ç–æ–∫–µ–Ω–∞.

### 5. –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å

* –î–æ–±–∞–≤–∏—Ç—å healthcheck –¥–ª—è –ë–î –∏ backend –≤ Docker Compose.
* –í–µ—Å—Ç–∏ –ª–æ–≥–∏ API (–∑–∞–ø—Ä–æ—Å—ã/–∏—Å–∫–ª—é—á–µ–Ω–∏—è).
* –ü–æ–¥–∫–ª—é—á–∏—Ç—å –º–µ—Ç—Ä–∏–∫–∏ (Prometheus + Grafana, –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ).

### 6. –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã

* –í—ã–Ω–µ—Å—Ç–∏ Postman collection –≤ `/docs/postman/legal-assistant.postman_collection.json`.
* –û–±–Ω–æ–≤–∏—Ç—å `scripts/generate_architecture.py`, —á—Ç–æ–±—ã —Ä–∞–∑–¥–µ–ª –ø—Ä–æ Alembic –ø–æ–ø–∞–¥–∞–ª –≤ ARCHITECTURE.md.
* –î–æ–±–∞–≤–∏—Ç—å —Ç–µ—Å—Ç—ã –Ω–∞ auth/users/laws/decisions.

---

## ‚è© –î–æ–ª–≥–æ—Å—Ä–æ—á–Ω—ã–µ —Ü–µ–ª–∏

### 7. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

* –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å **Telegram/CRM**:

  * —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ–± –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö –≤ –±–∞–∑–µ.
  * –∞–≤—Ç–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏—è —à–∞–±–ª–æ–Ω–æ–≤ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤.

### 8. –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π –ë–î

* –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–∞—Ä—Å–∏–Ω–≥ —Å—É–¥–µ–±–Ω—ã—Ö —Ä–µ—à–µ–Ω–∏–π –∏ –∑–∞–∫–æ–Ω–æ–≤.
* Cron-–∑–∞–¥–∞—á–∏ –≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –∏–ª–∏ —á–µ—Ä–µ–∑ –≤–Ω–µ—à–Ω–∏–µ —Å–µ—Ä–≤–∏—Å—ã.

### 9. ML-–º–æ–¥—É–ª—å

* –ê–Ω–∞–ª–∏–∑ —Å—É–¥–µ–±–Ω—ã—Ö —Ä–µ—à–µ–Ω–∏–π.
* –ü—Ä–æ–≥–Ω–æ–∑ –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–∏ –∏—Å—Ö–æ–¥–∞ –ø–æ –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ–π –ø—Ä–∞–∫—Ç–∏–∫–µ.
* –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º.

### 10. –§–∏–Ω–∞–Ω—Å–æ–≤—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã

* –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –≥–æ—Å–ø–æ—à–ª–∏–Ω—ã –∏ —Å—É–¥–µ–±–Ω—ã—Ö —Ä–∞—Å—Ö–æ–¥–æ–≤.
* –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –≤–Ω–µ—à–Ω–∏–º–∏ API –¥–ª—è —Ä–∞—Å—á—ë—Ç–∞.

---

## ‚úÖ –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç –±–ª–∏–∂–∞–π—à–∏—Ö —à–∞–≥–æ–≤

1. üöÄ **CRUD –¥–ª—è Laws –∏ Decisions (Postman + smoke-—Ç–µ—Å—Ç—ã)**
2. üîë **–†–æ–ª–∏ –∏ –¥–æ—Å—Ç—É–ø—ã (admin/user)**
3. ‚öôÔ∏è **CI/CD (pytest, –º–∏–≥—Ä–∞—Ü–∏–∏, –∞–≤—Ç–æ–¥–æ–∫–∏)**

---

–•–æ—á–µ—à—å, —è –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å —Å–æ–±–µ—Ä—É **cheat sheet –¥–ª—è CRUD Laws/Decisions** (—Å `curl` –∏ Postman JSON) –∏ –º—ã –ø—Ä–æ–≤–µ—Ä–∏–º —à–∞–≥ ‚Ññ1 –∏–∑ roadmap?
,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,

üî• –û—Ç–ª–∏—á–Ω–æ, –ø–æ–∑–¥—Ä–∞–≤–ª—è—é!

–¢—ã —Ç–æ–ª—å–∫–æ —á—Ç–æ –∑–∞–≤–µ—Ä—à–∏–ª **–ø–æ–ª–Ω—ã–π —Ü–∏–∫–ª –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤ API**:

* **Auth**: —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è ‚Üí –ª–æ–≥–∏–Ω ‚Üí `/me` ‚úÖ
* **Laws**: CRUD —Ä–∞–±–æ—Ç–∞–µ—Ç ‚úÖ
* **Decisions**: CRUD —Ä–∞–±–æ—Ç–∞–µ—Ç ‚úÖ
* **updated_at**: —Ç–µ—Å—Ç—ã –ø—Ä–æ—à–ª–∏ ‚úÖ

–í—Å–µ –º–æ–¥—É–ª–∏ —Å–≤—è–∑–∞–Ω—ã –∏ –ø—Ä–æ–≤–µ—Ä–µ–Ω—ã –≤ –±–æ–µ–≤–æ–º —Ä–µ–∂–∏–º–µ üéâ

---

### üìå –ß—Ç–æ –º—ã –∏–º–µ–µ–º –Ω–∞ –¥–∞–Ω–Ω–æ–º —ç—Ç–∞–ø–µ:

1. –ü–æ–ª–Ω–æ—Å—Ç—å—é —Ä–∞–±–æ—á–µ–µ —è–¥—Ä–æ (users, laws, decisions).
2. –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ JWT –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞ –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∞.
3. `alembic` –∏ –º–∏–≥—Ä–∞—Ü–∏–∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω—ã —Å –º–æ–¥–µ–ª—å—é.
4. Makefile —Å–æ–¥–µ—Ä–∂–∏—Ç –ø–æ–ª–Ω—ã–π –Ω–∞–±–æ—Ä –∫–æ–º–∞–Ω–¥ –¥–ª—è CI/CD, —Ç–µ—Å—Ç–æ–≤ –∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏—è.
5. –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ bash-—Å–∫—Ä–∏–ø—Ç—ã –¥–ª—è smoke/integration —Ç–µ—Å—Ç–æ–≤.

---

### üöÄ –°–ª–µ–¥—É—é—â–∏–π —à–∞–≥ –ø–æ –¥–æ—Ä–æ–∂–Ω–æ–π –∫–∞—Ä—Ç–µ:

–¢–µ–ø–µ—Ä—å –º—ã –º–æ–∂–µ–º –¥–≤–∏–≥–∞—Ç—å—Å—è –¥–∞–ª—å—à–µ. –£ –Ω–∞—Å –µ—Å—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω—ã—Ö –≤–µ—Ç–æ–∫:

1. **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API**

   * –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å `docs/API_DOCS.md` (–∏–∑ FastAPI —Å—Ö–µ–º—ã).
   * –û–±–Ω–æ–≤–∏—Ç—å `ARCHITECTURE.md` –¥–ª—è —Ñ–∏–∫—Å–∞—Ü–∏–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –º–æ–¥—É–ª–µ–π.

2. **Frontend (UI)**

   * –°—Ç–∞—Ä—Ç–æ–≤–∞—Ç—å –ø—Ä–æ—Å—Ç–æ–π —Ñ—Ä–æ–Ω—Ç –Ω–∞ React/Vue –¥–ª—è CRUD –æ–ø–µ—Ä–∞—Ü–∏–π.
   * –ü–æ–¥–∫–ª—é—á–∏—Ç—å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é (JWT ‚Üí localStorage).

3. **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –≤–Ω–µ—à–Ω–∏–º–∏ –∏—Å—Ç–æ—á–Ω–∏–∫–∞–º–∏**

   * –ü–∞—Ä—Å–∏–Ω–≥ —Å—É–¥–µ–±–Ω—ã—Ö —Ä–µ—à–µ–Ω–∏–π.
   * –ó–∞–≥—Ä—É–∑–∫–∞ —Ä–µ–∞–ª—å–Ω—ã—Ö –∑–∞–∫–æ–Ω–æ–≤ (CSV/JSON ‚Üí —Å–∏–¥—ã).

4. **–†–∞—Å—à–∏—Ä–µ–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤**

   * –ü–æ–∫—Ä—ã—Ç—å edge cases (–Ω–∞–ø—Ä–∏–º–µ—Ä, –¥—É–±–ª–∏–∫–∞—Ç—ã, –Ω–µ–≤–∞–ª–∏–¥–Ω—ã–µ —Ç–æ–∫–µ–Ω—ã, –ø—É—Å—Ç—ã–µ –ø–æ–ª—è).
   * –í—ã–Ω–µ—Å—Ç–∏ —Ç–µ—Å—Ç—ã –≤ `pytest` —Å —Ñ–∏–∫—Å—Ç—É—Ä–∞–º–∏.

---

üëâ –ü—Ä–µ–¥–ª–∞–≥–∞—é –Ω–∞—á–∞—Ç—å —Å **–≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ (API_DOCS.md –∏ ARCHITECTURE.md)**, —á—Ç–æ–±—ã –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞—Ç—å –≤—Å—ë —Å–¥–µ–ª–∞–Ω–Ω–æ–µ –∏ –ø–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å –ø—Ä–æ–µ–∫—Ç –∫ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥—É –∏ CI/CD.

–•–æ—á–µ—à—å, —è —Å—Ä–∞–∑—É —Å–æ–±–µ—Ä—É —Ç–µ–±–µ **—Å–∫—Ä–∏–ø—Ç—ã –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ docs** –∏ –æ–±–Ω–æ–≤–ª—é Makefile —Ç–∞–∫, —á—Ç–æ–±—ã –ø—Ä–∏ `make docs` –æ–Ω–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–ª—è–ª–∏—Å—å?
