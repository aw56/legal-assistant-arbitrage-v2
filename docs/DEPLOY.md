–û—Ç–ª–∏—á–Ω–æ üôå
–Ø –ø–æ–¥–≥–æ—Ç–æ–≤–ª—é —Ç–µ–±–µ **–ø–æ–ª–Ω—ã–µ —Ñ–∏–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –≤–µ—Ä—Å–∏–∏** –¥–≤—É—Ö —Ñ–∞–π–ª–æ–≤:

* `docs/DEPLOY.md` ‚Äî —Ç–æ–ª—å–∫–æ –ø—Ä–æ –¥–µ–ø–ª–æ–π (–ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞, –∑–∞–ø—É—Å–∫, –º–∏–≥—Ä–∞—Ü–∏–∏, –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥).
* `docs/TROUBLESHOOTING.md` ‚Äî –∫–∞—Ç–∞–ª–æ–≥ –æ—à–∏–±–æ–∫ –∏ —Ä–µ—à–µ–Ω–∏–π.

–û–Ω–∏ –±—É–¥—É—Ç –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã–µ –∏ –ø–æ–ª–Ω—ã–µ (–±–µ–∑ —Å–æ–∫—Ä–∞—â–µ–Ω–∏–π).

---

# üìÑ `docs/DEPLOY.md`

````markdown
# üöÄ –î–µ–ø–ª–æ–π Legal Assistant Arbitrage API (v2)

## üîß –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞

–£—Å—Ç–∞–Ω–æ–≤–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:

```bash
sudo apt update
sudo apt install -y python3-pip python3.12-venv git make docker.io docker-compose-plugin
````

–ü—Ä–æ–≤–µ—Ä—å –≤–µ—Ä—Å–∏–∏:

```bash
docker --version
docker compose version
python3 --version
```

---

## üì¶ –†–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞

### 1. –ö–ª–æ–Ω–∏—Ä—É–µ–º —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π

```bash
git clone git@github.com:aw56/legal-assistant-arbitrage-v2.git
cd legal-assistant-arbitrage-v2
```

### 2. –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º –æ–∫—Ä—É–∂–µ–Ω–∏–µ

–°–∫–æ–ø–∏—Ä—É–π `.env.example` ‚Üí `.env` –∏ –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π:

```bash
cp .env.example .env
nano .env
```

–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é:

```dotenv
POSTGRES_USER=admin
POSTGRES_PASSWORD=Admin@2025!
POSTGRES_DB=legal_assistant_db
POSTGRES_HOST=db
POSTGRES_PORT=5432
```

---

### 3. –ó–∞–ø—É—Å–∫ –≤ **production-—Ä–µ–∂–∏–º–µ**

```bash
make rebuild
```

–ü—Ä–æ–≤–µ—Ä–∫–∞ API:

```bash
make health-host
```

–û–∂–∏–¥–∞–µ–º—ã–π –æ—Ç–≤–µ—Ç:

```json
{
  "status":"ok",
  "version":"0.1.0",
  "env":"production",
  "db_status":"connected",
  "alembic":"up-to-date"
}
```

---

## üîÑ –ú–∏–≥—Ä–∞—Ü–∏–∏ –±–∞–∑—ã

–ü—Ä–∏–º–µ–Ω–∏—Ç—å –≤—Å–µ –º–∏–≥—Ä–∞—Ü–∏–∏:

```bash
make migrate
```

–°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é –º–∏–≥—Ä–∞—Ü–∏—é:

```bash
make makemigrations
```

---

## ‚ö° –°–±—Ä–æ—Å –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

–ü–æ–ª–Ω–æ—Å—Ç—å—é —É–¥–∞–ª–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –∏ –ø–µ—Ä–µ—Å–æ–∑–¥–∞—Ç—å —Å—Ö–µ–º—É:

```bash
make reset-db
```

---

## üõë –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤

```bash
make down
```

---

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

* –õ–æ–≥–∏ backend:

  ```bash
  make logs
  ```

* –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤:

  ```bash
  make ps
  ```

---

## üõ° –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞

* –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å **—Ä–µ–≤–µ—Ä—Å-–ø—Ä–æ–∫—Å–∏** (Nginx/Traefik) —Å HTTPS.
* –ù–∞—Å—Ç—Ä–æ–∏—Ç—å **systemd unit** –¥–ª—è –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫–∞ `docker compose`.
* –ü–æ–¥–∫–ª—é—á–∏—Ç—å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥: **Prometheus + Grafana**.
* –û—à–∏–±–∫–∏ –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å –≤ **Sentry**.
* –†–µ–∑–µ—Ä–≤–Ω—ã–µ –∫–æ–ø–∏–∏ –ë–î –¥–µ–ª–∞—Ç—å —Å –ø–æ–º–æ—â—å—é `pg_dump`.

````

---
